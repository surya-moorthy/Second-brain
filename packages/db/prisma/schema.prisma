// schema.prisma

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://neondb_owner:npg_3nHKTI0ESrcq@ep-tiny-shape-a1myex3g-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require"
}


// ==========================
// User Model
// ==========================
model User {
  id       String    @id @default(uuid())
  username String    @unique
  password String
  contents Content[] // 1-to-many relation
  links    Link[] // 1-to-many relation
}

// ==========================
// Tag Model
// ==========================
model Tag {
  id       String    @id @default(uuid())
  title    String
  contents Content[] @relation("ContentTags")
}

// ==========================
// Content Model
// ==========================
model Content {
  id     String @id @default(uuid())
  link   String
  type   String
  title  String
userId String 
  user   User   @relation(fields: [userId], references: [id])
  tags   Tag[]  @relation("ContentTags")
}

// ==========================
// Link Model
// ==========================
model Link {
  id     String @id @default(uuid())
  hash   String
  userId String 
  user   User   @relation(fields: [userId], references: [id])
}
